package br.ufu.facom.lascam.coverageexploiter.parser.impl;

import java.util.HashMap;
import java.util.Map;

import org.eclipse.jdt.core.dom.ASTVisitor;
import org.eclipse.jdt.core.dom.MethodDeclaration;
import org.eclipse.jdt.core.dom.MethodInvocation;
import org.eclipse.jdt.core.dom.Name;

public class PPANameVisitor extends ASTVisitor {

    private Map<String, Name> methods = new HashMap<String, Name>();

    public Name getName(Name node) {
        return methods.get(getKey(node));
    }

    public Map<String, Name> getMethods() {
        return methods;
    }

    @Override
    public void endVisit(MethodInvocation node) {
        methods.put(getKey(node.getName()), node.getName());
        super.endVisit(node);
    }

    @Override
    public void endVisit(MethodDeclaration node) {
        System.out.println(node.getName());
        super.endVisit(node);
    }

    public static String getKey(Name node) {
        return node.getFullyQualifiedName() + "" + node.getStartPosition() + "" + node.getLength();
    }

}